@model Blog
@{
    var eventCategories = ViewBag.EventCategories as List<BlogCategory>;
    ViewData["Title"] = "Chỉnh sửa";
}
<div class="content">

    <!-- Start Content-->
    <div class="container-fluid">

        <!-- start page title -->
        <div class="row">
            <div class="col-12">
                <div class="page-title-box">
                    <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item"><a asp-route="admin-default">Trang chủ</a></li>
                            <li class="breadcrumb-item"><a asp-route="admin-event">Quản lý tin tức</a></li>
                            <li class="breadcrumb-item active">Tin tức</li>
                        </ol>
                    </div>
                    <h4 class="page-title">Thông tin bài viết</h4>
                </div>
            </div>
        </div>
        <!-- end page title -->

        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <form id="form-event">
                            <div class="row">
                                <div class="col-lg-12">
                                    <ul class="nav nav-tabs nav-bordered mb-3 sticky-header-top">
                                        <li class="nav-item">
                                            <a href="#tab-info" data-bs-toggle="tab" aria-expanded="false"
                                                class="nav-link active">
                                                <i class="mdi mdi-home-variant d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Thông tin chung</span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#tab-gallery" data-bs-toggle="tab" aria-expanded="true"
                                                class="nav-link ">
                                                <i class="mdi mdi-account-circle d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Hình đại diện</span>
                                            </a>
                                        </li>

                                        <li class="nav-item">
                                            <a href="#tab-content" data-bs-toggle="tab" aria-expanded="true"
                                                class="nav-link ">
                                                <i class="mdi mdi-account-circle d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Nội dung Bài viết</span>
                                            </a>
                                        </li>

                                    </ul>

                                    <div class="tab-content">
                                        <div class="tab-pane show active" id="tab-info">
                                            <div class="mb-3"><i>Lưu ý: </i>(<span class="text-danger">*</span>) là
                                                trường bắt buộc nhập</div>
                                            <input class="form-control" value="@Model.Id" id="eventId" name="id"
                                                type="hidden" placeholder="Vui lòng nhập">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="mb-3">
                                                        <label for="billing-first-name" class="form-label">Tiêu đề <span
                                                                class="text-danger">*</span></label>
                                                        <input class="form-control" value="@Model.Title" name="title"
                                                            type="text" placeholder="Vui lòng nhập">
                                                    </div>
                                                </div>
                                                <div class="col-md-9">
                                                    <div class="mb-3 form-select-validate">
                                                        <label for="billing-first-name" class="form-label">Loại tin tức
                                                            <span class="text-danger">*</span></label>
                                                        <select class="form-control select2" name="blogCategoryId"
                                                            data-toggle="select2">
                                                            <option value="0">---Tất cả---</option>
                                                            @foreach (var item in eventCategories)
                                                            {
                                                                <option value="@item.Id"
                                                                    selected="@(item.Id == Model.BlogCategoryId)">
                                                                    @item.Title</option>
                                                            }
                                                        </select>
                                                    </div>
                                                </div>

                                                  <div class="col-3">
                                                    <div class="mb-3">
                                                        <label for="billing-email-address" class="form-label">Trạng
                                                            thái: &nbsp;</label>
                                                        <br />
                                                        <div>
                                                            <input type="checkbox" id="status-active" @(((Model.Status
                                                                == StatusEnum.Active) || (Model.Status == null)) ?
                                                                "checked" : "") name="status" class="switch-status"
                                                                data-switch="success">
                                                            <label for="status-active" data-on-label="Yes"
                                                                data-off-label="No" class="mb-0 d-block"></label>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="col-md-12">
                                                    <div class="mb-3">
                                                        <label for="billing-first-name" class="form-label">Mô tả ngắn
                                                            <span class="text-danger">*</span></label>
                                                        <textarea class="form-control" name="description" rows="3"
                                                            placeholder="Vui lòng nhập">@Model.Description</textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row ">
                                                <span> <i class="uil uil-eye"></i> Hiển thị</span>
                                                
                                                <hr>
                                                <div class="col-3">
                                                    <div class="mb-3">
                                                        <label for="billing-email-address" class="form-label">Hiển thị Bài viết
                                                            nổi bật &nbsp;</label>
                                                        <br />
                                                        <div>
                                                            <input type="checkbox" id="hot-active"
                                                            @(((Model.HotFlag != null && !Model.HotFlag.Value) || (Model.HotFlag == null)) ?
                                                                "" : "checked") name="hotFlag" class="switch-hot"
                                                                data-switch="success">
                                                            <label for="hot-active" data-on-label="Yes"
                                                                data-off-label="No" class="mb-0 d-block"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-3">
                                                <div class="mb-3">
                                                <label for="billing-email-address" class="form-label">Hiển thị trang chủ &nbsp;</label>
                                                <br />
                                                <div>
                                                <input type="checkbox" id="home-active"
                                                @(((Model.HomeFlag != null && !Model.HomeFlag.Value) || (Model.HomeFlag == null)) ?
                                                "" : "checked") name="homeFlag" class="switch-home"
                                                data-switch="success">
                                                <label for="home-active" data-on-label="Yes"
                                                data-off-label="No" class="mb-0 d-block"></label>
                                                </div>
                                                </div>
                                                </div>

                                              
                                            </div>

                                        </div>
                                        <div class="tab-pane" id="tab-gallery">
                                            <div class="row">
                                                <div class="col-3">
                                                    <div class="upload-file-wrap">
                                                        <label class="form-label mb-2">Tải lên ảnh đại diện</label>
                                                        <!-- File Upload -->
                                                        <div class="upload-file">
                                                            <div class="image-preview-wrap">
                                                                <img src="@Model.Avatar.ToHostImage()" class="image-preview" />
                                                                <input type="hidden" name="avatar"
                                                                    value="@Model.Avatar" />
                                                            </div>
                                                        </div>
                                                        <div class="mt-3">
                                                            <div class="input-group">
                                                                <input name="file" type="file"
                                                                    class="form-control select-file" accept="image/*" />
                                                                <button class="btn btn-danger btn-delete-file"
                                                                    type="button"><i
                                                                        class="mdi mdi-trash-can"></i></button>
                                                            </div>

                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab-content">
                                            <textarea style="height: 100%; width: 100%" class="tinyeditor"
                                                name="Content" data-folder="@Commons.FILE_UPLOAD/event/content/">
                                                @Model.Content
                                            </textarea>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-sm-6">
                                    <a asp-route="admin-event"
                                        class="btn text-muted d-none d-sm-inline-block btn-link fw-semibold">
                                        <i class="mdi mdi-arrow-left"></i> Quay lại danh sách tin tức
                                    </a>
                                </div> <!-- end col -->
                                <div class="col-sm-6">
                                    <div class="text-sm-end">
                                        <button type="submit" class="btn btn-success ladda-button"
                                            data-style="expand-right" id="btn-save">
                                            <i class="mdi mdi-content-save"></i> Lưu lại
                                        </button>
                                    </div>
                                </div> <!-- end col -->
                            </div>
                        </form>
                    </div> <!-- end card-body-->
                </div> <!-- end card-->
            </div> <!-- end col -->
        </div>
        <!-- end row -->

    </div> <!-- container -->

</div> <!-- content -->

@section styles {
    <!-- validate css -->
    <link href="~/Admin/assets/vendor/validation/js/jquery.validate.css" rel="stylesheet" />
    <!-- Select2 css -->
    <link href="~/Admin/assets/vendor/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
    <!-- ladda css -->
    <link href="~/Admin/assets/vendor/ladda-master/dist/ladda.min.css" rel="stylesheet" />
    <link href="~/Admin/assets/vendor/ladda-master/dist/ladda-themeless.min.css" rel="stylesheet" />
    @* upload file single css *@
    <link href="~/Admin/assets/js/commons/upload-file-single/upload-file-single.css" rel="stylesheet" />
}

@section scripts {
    <!-- validate js -->
    <script src="~/Admin/assets/vendor/validation/js/jquery.validate.min.js"></script>
    <!--  Select2 Js -->
    <script src="~/Admin/assets/vendor/select2/js/select2.min.js"></script>
    @* tinyeditor *@
    <script src="~/Admin/assets/vendor/tinyeditor/1.jquery.tinymce.min.js"></script>
    <script src="~/Admin/assets/vendor/tinyeditor/2.tinymce.min.js"></script>
    <script src="~/Admin/assets/vendor/tinyeditor/3.tinymce.customfunction.js"></script>
    <script src="~/Admin/assets/vendor/tinyeditor/4.upload-file.js"></script>
    <script src="~/Admin/assets/vendor/tinyeditor/dataconfig.js"></script>
    <!-- ladda js -->
    <script src="~/Admin/assets/vendor/ladda-master/dist/spin.min.js"></script>
    <script src="~/Admin/assets/vendor/ladda-master/dist/ladda.jquery.min.js"></script>
    @* upload file single js *@
    <script src="~/Admin/assets/js/commons/upload-file-single/upload-file-single.js"></script>
    @* event controller *@
    <script src="~/Admin/assets/js/controllers/event-controller.js" asp-append-version="true"></script>
}